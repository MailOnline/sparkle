resolver: lts-7.10

packages:
- .
- apps/hello
- apps/lda
- apps/rdd-ops

- location: vendor/constraints
  extra-dep: true
- location: vendor/th-desugar
  extra-dep: true
- location:
    git: https://github.com/nomeata/ghc-heap-view
    commit: 97791de616dc095a8eec2fc5b056497616c98051

extra-deps:
- thread-local-storage-0.1.0.3
- jni-0.1
- jvm-0.1.2
- inline-java-0.6

explicit-setup-deps:
  bench: true

nix:
  # Requires Stack >= 1.2.
  shell-file: shell-8.0.2.nix

docker:
  enable: false
  image: tweag/sparkle
  run-args: ["--net=bridge"]
  stack-exe: image

allow-newer: true
skip-ghc-check: true
flags:
  ghc-heap-view:
    ghc_7_7: false
    ghc_8_0: true
